From 2f18ccd33d8c3f9ed0e63a15ddd06b2d83146eb0 Mon Sep 17 00:00:00 2001
From: Googulator <netrolller.3d@gmail.com>
Date: Tue, 9 Jul 2019 20:32:35 +0200
Subject: [PATCH] dts: bcm2711: fix DMA address collisions

---
 arch/arm/boot/dts/bcm2838.dtsi | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/arch/arm/boot/dts/bcm2838.dtsi b/arch/arm/boot/dts/bcm2838.dtsi
index 3cecfa62af428..682714970911c 100644
--- a/arch/arm/boot/dts/bcm2838.dtsi
+++ b/arch/arm/boot/dts/bcm2838.dtsi
@@ -320,7 +320,9 @@
 			 <0x0 0x40000000  0x0 0xff800000  0x00800000>,
 			 <0x6 0x00000000  0x6 0x00000000  0x40000000>,
 			 <0x0 0x00000000  0x0 0x00000000  0xfc000000>;
-		dma-ranges = <0x0 0x00000000  0x0 0x00000000  0xfc000000>;
+		dma-ranges = <0x0 0x00000000  0x0 0x00000000  0x3c000000>,
+		             <0x0 0x40800000  0x0 0x40800000  0x3b800000>,
+			     <0x0 0x80000000  0x0 0x80000000  0x7c000000>;
 
 		pcie_0: pcie@7d500000 {
 			reg = <0x0 0x7d500000 0x9310>,
 
